---
layout: post
title:  "허깅페이스 에이전트 코스 - 에이전트 입문"
date:   2025-12-30 00:10:22 +0900
categories: Huggingface_agent
---

# What is an Agent?

이 글에서는 AI Agent의 개념을 시스템 설계 관점에서 정리한다.
단순히 “똑똑한 챗봇”이 아니라, LLM을 중심으로 추론, 계획, 행동을 수행하는 실행 시스템으로서의 Agent를 다룬다.

본 문서는 이후 다룰 다음 주제들의 기초 개념 정리를 목표로 한다.

- Tool Calling
- Multi-step Agent
- Multi-Agent 시스템
- 게임 NPC / 자동화 Agent / 업무 Agent 설계

### 실습 목표

- Agent와 일반 LLM 애플리케이션의 차이 이해
- Agent를 구성하는 핵심 요소 정리
- “Agency”의 단계적 스펙트럼 이해
- Agent 설계 시 LLM과 Tool의 역할 분리 관점 확립

## Agent의 핵심 개념 요약

```
Agent란,
AI 모델(보통 LLM)을 핵심 추론 엔진으로 사용하여
사용자 목표를 달성하기 위해
환경과 상호작용하며 행동을 수행하는 시스템이다.
```

여기서 중요한 점은 다음이다.

- Agent는 모델 하나가 아니다
- Agent는 시스템 구조다
- “출력 텍스트”가 아니라 **행동(Action)**이 결과다

## 직관적 이해: Alfred 비유

Agent를 가장 쉽게 이해하는 방법은 “지시를 받아 일을 대신 처리하는 존재”로 생각하는 것이다.
예를 들어 다음과 같은 요청이 주어진다고 하자.

*“커피 한 잔 부탁해.”*

Agent는 다음 단계를 스스로 수행한다.

1. 자연어 명령 이해
2. 목표 인식 (커피 제공)
3. 목표 달성을 위한 계획 수립
4. 계획에 따라 행동 수행
5. 행동 결과를 환경에서 확인

이 과정에서 핵심은 다음이다.

1. 단순 응답 생성이 아님
2. 환경에 실제로 개입함
3. 스스로 다음 행동을 결정함

이 능력을 Agency(행위성) 라고 부른다.

## Agent의 구조적 정의

Agent는 개념적으로 두 개의 구성 요소로 나누어 이해하는 것이 가장 정확하다.

1. Brain: AI Model (주로 LLM)

Agent의 “두뇌”에 해당한다.
역할은 다음과 같다.

- 자연어 이해
- 상황 해석
- 목표 분석
- 다음 행동 결정
- 어떤 Tool을 사용할지 선택

LLM은 ‘무엇을 할지’를 결정하지만,
‘실제로 실행’하지는 않는다.

2. Body: Capabilities & Tools

Agent의 “신체”에 해당한다.

- 실제로 실행 가능한 모든 행동의 집합
- 코드, API, 외부 시스템과 직접 연결됨

예시:

- 파일 읽기 / 쓰기
- 웹 검색
- DB 수정
- 이메일 전송
- 이미지 생성

핵심 제약:

Agent는 제공된 Tool 밖의 행동은 절대 할 수 없다.
즉, Agent의 능력은 LLM 성능이 아니라 Tool 설계에 의해 상한이 결정된다.

## Agency의 스펙트럼

모든 시스템이 “Agent”는 아니다.
Agent성은 연속적인 스펙트럼으로 이해하는 것이 정확하다.


| Level | 설명                 | 명칭               | 코드 패턴                     |
| ----- | ------------------ | ---------------- | ------------------------- |
| ☆☆☆   | 출력이 프로그램 흐름에 영향 없음 | 단순 LLM 처리        | `process(llm_output)`     |
| ★☆☆   | 출력이 분기 결정          | Router           | `if llm(): A() else: B()` |
| ★★☆   | 출력이 함수 선택          | Tool Caller      | `run(llm_tool)`           |
| ★★★   | 출력이 반복·종료 제어       | Multi-step Agent | `while llm_continue():`   |
| ★★★   | Agent가 Agent를 호출   | Multi-Agent      | `spawn_agent()`           |


핵심 기준은 LLM이 제어 흐름(control flow)을 얼마나 직접적으로 결정하는가이다.

## Agent에 사용되는 AI 모델

### 기본 선택: LLM

Agent의 Brain으로 가장 많이 사용되는 것은 LLM이다.
이유는 명확하다.

- 자연어 이해
- 추론 능력
- 일반화된 계획 수립 능력

텍스트 -> 텍스트 모델이지만,
Tool과 결합될 경우 텍스트를 행동으로 변환할 수 있다.

### 확장 가능성

반드시 텍스트만 사용할 필요는 없다.

- Vision-Language Model (이미지 입력)
- Audio 기반 모델
- Sensor 데이터 기반 모델

그러나 중요한 점은 이것이다.

```
Agent 설계의 본질은 모델 종류가 아니라
“행동을 어떻게 연결하느냐”다.
```

## LLM은 어떻게 행동을 수행하는가?

LLM 자체는 텍스트만 생성할 수 있다.
그런데 우리는 LLM에게 다음과 같은 일을 시킬 수 있다.

- 이미지 생성
- 이메일 전송
- 파일 생성
- 웹 검색

이 차이를 만드는 것이 바로 Tool이다.

## Tool과 Action의 차이

### Tool

- 실행 가능한 코드
- 외부 환경에 직접 영향

예시:

```python
def send_message_to(recipient, message):
    """Send an email to a recipient"""
    ...
```

LLM은 이 함수를 직접 실행하지 않는다.
대신 다음을 수행한다.

- 어떤 Tool을 사용할지 결정
- 어떤 인자를 넣을지 생성

### Action

- 논리적 작업 단위
- 여러 Tool을 포함할 수 있음

예시:

“회의 연기 요청하기”
-> 이메일 작성 + 이메일 전송 Tool 사용

즉,

- Tool = 실행 수단
- Action = 목표 단위

## Tool 설계가 Agent 품질을 결정한다

Agent 성능 = LLM 성능 × Tool 설계 품질

Tool이 너무 범용적이면
-> LLM 추론 부담 증가

Tool이 너무 세분화되면
-> 계획 복잡도 증가

좋은 Agent는 다음 특성을 가진다.

- 목적 단위 Tool
- 실패 가능성 통제
- 명확한 입력, 출력 계약

## Agent의 실제 활용 예시

1. 개인 비서 Agent

- 일정 관리
- 이메일 발송
- 시스템 자동화
-> 운영체제와 상호작용하는 Agent

2. 고객 서비스 Agent

- 질의 응답
- 티켓 생성
- 주문 처리
- 내부 DB 연동
-> 기업 업무 프로세스의 일부로 작동

3. 게임 AI NPC

- 고정 스크립트 제거
- 상황 인식 + 기억 + 반응
-> 플레이어 행동에 따라 진화하는 NPC

## 정리

Agent는 단순히 “LLM을 더 많이 쓰는 구조”가 아니다.
Agent는 다음을 모두 포함하는 실행 시스템이다.

- 자연어 이해
- 추론 및 계획
- Tool을 통한 실제 행동
- 환경과의 피드백 루프

한 줄로 요약하면 다음과 같다.

Agent = LLM + Tool + Control Flow

참고자료
Huggingface, agents course, https://huggingface.co/learn