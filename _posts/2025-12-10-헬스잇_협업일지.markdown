---
layout: post
title:  "Healtheat 이미지 인식 프로젝트 - 협업일지 4"
date:   2025-12-10 00:10:22 +0900
categories: Healtheat_Vsion
---

# 12월 10일 협업일지

날짜: 2024-12-10
이름: 안호성
팀명: 4팀

# 오늘 맡은 역할 및 작업 내용

오늘은 기존 YOLO 파이프라인을 확장하여
YOLOv8n 기반 Pseudo-Labeling 파이프라인 autocorrect.py을 완성하고,
전체 651개 이미지에 대한 자동 재라벨링 및 구조 통합,
YOLO 재학습, 모델 업그레이드까지 수행한 매우 큰 진척이 있는 날이었다.

1. Autocorrect(Pseudo-Labeling) 시스템 구축

기존 데이터셋에 라벨링이 아예 없는 이미지가 다수 존재하는 문제 해결을 위해
YOLOv8n(최초 학습된 모델)을 활용한 pseudo-label 생성 코드를 작성했다.

이 과정에서 단순히 class_id 매핑만으로는 부족하다는 점을 인지했다.
따라서 카테고리 매핑 JSON에 class_name까지 포함하도록 구조를 변경하고
CocoParser 및 전체 파이프라인 코드를 업데이트했다.

목표

- YOLO가 누락된 객체를 자동 탐지: annotation JSON 자동 생성
- 기존 annotation이 있어도 누락 박스가 있으면 YOLO가 보완
- 훈련 YOLO조차 탐지 못한 객체는 어쩔 수 없지만, 전체 651개 이미지를 모두 라벨링 가능한 수준까지 자동화 성공

2. 원시 데이터셋 구조 개편

Kaggle 데이터셋의 COCO-style 구조가 지나치게 복잡하여
“하나의 이미지당 하나의 JSON 라벨 구조”로 재구성하였다.

목표

- 모든 annotation을 이미지 단위로 통합
- 중첩된 디렉토리 제거
- YOLO 학습에 최적화된 구조로 재정렬

팀 전체가 동일한 구조로 쉽게 접근 가능하도록 표준화했다.

3. YOLO 재학습 및 성능 비교

- YOLOv8n (Pseudo-Labeled Dataset 기반 재학습)

    - Epoch: 50
    - mAP50: 0.8554
    - mAP50-95: 0.8463
    - Kaggle LB: 0.74792

첫 번째 실험 대비 Kaggle 점수 상승(0.73886 -> 0.74792)

- YOLO11s

    - Epoch: 100
    - mAP50: 0.8572
    - mAP50-95: 0.8447
    - Kaggle LB: 0.75536

4. GitHub 관리

- autocorrect.py 코드
- 카테고리 매핑 JSON 확장 버전

## 오늘 작업 현황

오늘은 대규모 파이프라인 개선과 두 종류의 YOLO 재학습을 성공적으로 수행하여
프로젝트 핵심 기능이 실질적으로 완성 단계에 도달했다.

Pseudo-Labeling 도입으로 데이터셋의 실질적 크기와 품질을 개선했으며
모델 성능 또한 Kaggle 기준 0.755까지 개선되었다.

## 오늘 협업 중 제안하거나 피드백한 내용

= Pseudo-Labeling 도입 배경과 데이터 개선 효과를 팀원에게 상세히 공유
- 원시 데이터셋 구조가 팀원에게 불편함을 줄 수 있어 “이미지 1개 = JSON 1개” 구조로 통합한 이유 설명
- 모델 개선 결과(mAP, Kaggle 점수) 공유
- 향후 데이터 정제/교정 자동화 방향성 제안

## 오늘 분석/실험 중 얻은 인사이트나 발견한 문제점

- 훈련 모델 기반의 pseudo-labeling은 annotation 누락 문제를 완화하지만 모델 자체 성능이 한계치 부근에 있으면 새 label 정확도도 동일하게 제한된다.
- YOLO11 시리즈가 YOLO8 대비 더 안정적인 성능을 냈으며, 데이터셋 규모가 작을 때 모델 아키텍처 선택이 중요함을 확인했다.
- pseudo-label + 구조 통합으로 데이터셋 불균일성 문제를 상당히 해소했으나, 일부 객체는 여전히 탐지가 어렵다는 점을 발견했다.

## 일정 지연이나 협업 중 어려웠던 점

- pseudo-label 생성 과정에서 카테고리 ID뿐 아니라 class_name 매핑이 필요하다는 점을 늦게 발견했다.
    - 매핑 JSON 구조 전체를 재정비해야 했기 때문에 시간이 예상보다 더 소요되었다.
- 원시 데이터셋 구조가 지나치게 복잡하여 통합에 높은 작업량이 요구되었다.
- YOLO11 모델 학습 중 파라미터 변경 테스트, 구조 호환성 확인 등이 추가로 필요하여 시간이 지체되었다.

## 오늘 발표 준비나 커뮤니케이션에서 기여한 부분

- YOLOv8n -> YOLO11s 성능 개선 비교 자료 팀원에게 공유했다.
- pseudo-label 이미지 샘플을 공유하여 자동 라벨링 품질을 시각적으로 확인시켰습니다.
- 데이터 구조 통합 과정과 필요성을 문서화하여 팀원에게 전달했습니다.

## 내일 목표 / 할 일

- 밀린 협업일지 등 문서 작성