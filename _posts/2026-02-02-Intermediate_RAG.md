---
layout: post
title:  "입찰/공고 분석 AI - 협업일지 2026-02-02"
date:   2026-02-02 00:10:22 +0900
categories: Intermediate_RAG
---

# 2월 2일 협업일지

날짜: 2026-02-02  
이름: 안호성  
팀명: 3팀

## 오늘 맡은 역할 및 작업 내용

오늘은 팀 회의를 통해 협업 방향성을 정리한 날이다.  
초기 베이스라인을 먼저 끝까지 만들고, 이후 각자 영역을 고도화하기로 결정했다.  
나는 **Generation(생성) 파트**를 맡게 되었다.  
아래는 오늘 정리된 결정 사항과 당시 기술 전제들이다.

1. 협업 방식 합의

- 역할 분담: 각자 하나의 영역에 집중  
- 초기 목표: 기능별 고도화보다 **전체 파이프라인 베이스라인**을 먼저 완성  
- 베이스라인이 동작하면 이후 각 영역을 개선하기로 합의

2. 내 담당 영역 (Generation)

- LLM 출력 품질과 응답 형식을 담당  
- RAG 응답 흐름에서 "생성"의 기본 출력 규칙부터 설계  
- 답변 형식, 말투, 구조를 어떻게 고정할지 기준 설계  
- 실제 사용자 질문에 맞는 기본 포맷 정의

3. RAG 프레임워크 선택(개인 베이스라인)

- 나는 **LangGraph를 사용해 개인 베이스라인을 먼저 구성**하기로 했다.
- 분기 제어와 흐름 관리를 좀 더 세밀하게 할 수 있기 때문이다.
- 팀 전체가 LangGraph로 확정한 것은 아니고, **내가 베이스라인을 만들기 위한 선택**이었다. 
- 이후 팀 합의 여부는 별도 논의로 남겨두었다

4. TTS 연동

- 개인 프로젝트로 만든 **TTS 모델을 RAG 출력에 연동**하기로 결정  
- 초기 베이스라인 목표에 “텍스트 -> 음성 출력”까지 포함  
- 사용자가 실제로 듣는 출력까지 보겠다는 방향  
- 이 시점에 **TTS 품질 안정화 작업**도 함께 진행  
- 텍스트 정규화(normalization)를 적용해 입력 품질을 보정  
- 재생 클릭/잡음을 줄이기 위해 **짧은 페이드(fade in/out)** 기법을 구현  
- 원문을 그대로 넣으면 **BERT 입력 길이를 초과**하는 문제가 발생  
- 그래서 **답변을 문장 단위로 분할**해 TTS에 순차 입력하는 방식을 사용
  - 모델 출력에서 **잡음 라인 제거**: `컨텍스트`, `[Source` 프리픽스 제거, 숫자만/짧은 줄 제거
  - **정규화 규칙**:
    - 괄호/대괄호 내부 제거
    - 허용 문자: 한글/영문/숫자/공백/마침표/느낌표/물음표
    - 연속 공백 축소
    - 과도한 숫자열(20자 이상) 삭제
  - **문장 분리**:
    - 구두점 기준 분리하면서 마침표 유지
    - 소수점(예: 5.5) 보호
    - 확장자(.hwp/.pdf/.docx) 보호
  - **오디오 후처리**:
    - NaN/Inf 제거 후 [-1, 1] 클리핑
    - 10~12ms 페이드 인/아웃 적용(클릭 노이즈 감소)
    - 조각 간 0.12s 무음 삽입(끊김 완화)
  - **재생/저장 흐름**:
    - 조각 오디오를 문장 단위로 합산
    - 문장 단위 재생(플레이어 호출 최소화)
    - 전체 문장 오디오를 하나로 합쳐 파일 저장

5. LLM 실행 방식

- 로컬 실행 기준으로 **vLLM 사용**을 결정  
- GPU 환경에서 속도·비용 효율을 우선 고려  
- 모델 호출 비용보다 로컬 속도를 우선시하기로 선택  
- 초기에는 단일 GPU 기준으로 안정성을 확인한다

6. 파서/로더 기준

- **HWP 파일은 hwp5를 사용**  
- **PDF는 PdfReader(pypdf)를 사용**  

## 오늘 작업 현황

오늘은 구현보다는 **설계와 역할 분담 확정**이 핵심이었다.  
기술 선택과 방향성을 확정하는 것이 주 목적이었다.

- 베이스라인은 "전체 흐름 우선"으로 빠르게 구성  
- 이후 각자 파트를 고도화  
- 최소 파서/청킹/검색/생성 흐름을 먼저 확보  
- 확장 기능은 이후 일정으로 정리

## 오늘 협업 중 제안하거나 피드백한 내용

- 생성 파트는 LangGraph 기반으로 설계하여 **후속 확장(전략 분기, 멀티턴)**을 대비하는 방향 제안  
- TTS는 초기에 붙여 **사용자 체감 품질을 빠르게 확인**하자는 의견 공유  

## 오늘 분석/실험 중 얻은 인사이트나 발견한 문제점

- "부분 최적화"보다 **전체 파이프라인 동작 확인이 우선**  
- 빠르게 end-to-end를 만들어야 문제를 빨리 드러낼 수 있다.
- 파서/청킹/검색이 완벽하지 않아도, 생성 파트는 우선 동작시켜야 한다.  
- 베이스라인은 성능보다 "정확히 동작하는 흐름"을 확보하는 것이 중요

## 일정 지연이나 협업 중 어려웠던 점

- 특별한 지연은 없었으나 코드 통합에 대한 우려가 있었다 

## 오늘 발표 준비나 커뮤니케이션에서 기여한 부분

- 생성 파트 담당자로서 **LangGraph 기반 구축 방향**과 **TTS 연동 필요성**을 공유  

## 내일 목표 / 할 일

- LangGraph 기반 TTS RAG 베이스라인 완성 
- TTS 연동에 필요한 인터페이스(텍스트 입력 규격) 정리 및 문서화  
